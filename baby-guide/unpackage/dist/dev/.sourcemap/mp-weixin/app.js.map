{"version":3,"file":"app.js","sources":["App.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onHide, onLaunch, onShow } from '@dcloudio/uni-app'\nimport { userLogin } from './src/api'\nimport { useChildrenStore } from './src/store/modules/children'\n\nonLaunch(async () => {\n  uni.__f__('log','at App.vue:7','App Launch')\n  \n  // 初始化云开发\n  if (!uni.cloud) {\n    uni.__f__('error','at App.vue:11','当前环境不支持云开发，请使用真机预览')\n    return\n  }\n  \n  try {\n    uni.cloud.init({\n      env: 'cloud1-4gc1m9gl2ae51c9c',\n      traceUser: true\n    })\n    uni.__f__('log','at App.vue:20','云开发初始化成功')\n  } catch (err) {\n    uni.__f__('error','at App.vue:22','云开发初始化失败:', err)\n    return\n  }\n  \n  // 自动登录\n  try {\n    const res = await userLogin()\n    if (res.success) {\n      uni.__f__('log','at App.vue:30','用户登录成功', res.data?.isNewUser ? '(新用户)' : '(老用户)')\n      \n      // 加载儿童列表\n      const childrenStore = useChildrenStore()\n      await childrenStore.fetchChildren()\n    } else {\n      uni.__f__('error','at App.vue:36','登录失败:', res.errMsg)\n    }\n  } catch (err) {\n    uni.__f__('error','at App.vue:39','登录异常:', err)\n  }\n})\n\nonShow(() => {\n  uni.__f__('log','at App.vue:44','App Show')\n})\n\nonHide(() => {\n  uni.__f__('log','at App.vue:48','App Hide')\n})\n</script>\n\n<style lang=\"scss\">\n/* 自定义主题色 */\npage {\n  --primary-color: #4A90E2;\n  --success-color: #52C41A;\n  --warning-color: #FAAD14;\n  --error-color: #FF4D4F;\n  --info-color: #909399;\n}\n</style>\n"],"names":["onLaunch","uni","userLogin","useChildrenStore","onShow","onHide"],"mappings":";;;;;;;;;;;;;;;;AAKAA,kBAAAA,SAAS,YAAY;;AACfC,oBAAAA,MAAA,MAAM,OAAM,gBAAe,YAAY;AAGvC,UAAA,CAACA,oBAAI,OAAO;AACVA,sBAAAA,MAAA,MAAM,SAAQ,iBAAgB,oBAAoB;AACtD;AAAA,MACF;AAEI,UAAA;AACFA,sBAAA,MAAI,MAAM,KAAK;AAAA,UACb,KAAK;AAAA,UACL,WAAW;AAAA,QAAA,CACZ;AACGA,sBAAAA,MAAA,MAAM,OAAM,iBAAgB,UAAU;AAAA,eACnC,KAAK;AACZA,sBAAA,MAAI,MAAM,SAAQ,iBAAgB,aAAa,GAAG;AAClD;AAAA,MACF;AAGI,UAAA;AACI,cAAA,MAAM,MAAMC,cAAAA;AAClB,YAAI,IAAI,SAAS;AACXD,wBAAAA,MAAA,MAAM,OAAM,iBAAgB,YAAU,SAAI,SAAJ,mBAAU,aAAY,UAAU,OAAO;AAGjF,gBAAM,gBAAgBE,2BAAAA;AACtB,gBAAM,cAAc;QAAc,OAC7B;AACLF,wBAAA,MAAI,MAAM,SAAQ,iBAAgB,SAAS,IAAI,MAAM;AAAA,QACvD;AAAA,eACO,KAAK;AACZA,sBAAA,MAAI,MAAM,SAAQ,iBAAgB,SAAS,GAAG;AAAA,MAChD;AAAA,IAAA,CACD;AAEDG,kBAAAA,OAAO,MAAM;AACPH,oBAAAA,MAAA,MAAM,OAAM,iBAAgB,UAAU;AAAA,IAAA,CAC3C;AAEDI,kBAAAA,OAAO,MAAM;AACPJ,oBAAAA,MAAA,MAAM,OAAM,iBAAgB,UAAU;AAAA,IAAA,CAC3C;;;;;;;;;;;;;;;;;"}