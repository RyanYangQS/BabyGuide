# å„¿ç«¥å¥åº·ç®¡ç†å°ç¨‹åº - æŠ€æœ¯æ–¹æ¡ˆ(å¾®ä¿¡å°ç¨‹åºç‰ˆ)

## ä¸€ã€æŠ€æœ¯æ ˆé€‰å‹

### 1.1 å‰ç«¯æŠ€æœ¯æ ˆ

#### æ¡†æ¶é€‰æ‹©
- **æ¡†æ¶**: Taro 3.x (Reactè¯­æ³•) æˆ– uni-app (Vueè¯­æ³•)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Sass/Less
- **çŠ¶æ€ç®¡ç†**: 
  - Taro: Redux Toolkit / Zustand
  - uni-app: Pinia / Vuex

#### ä¸ºä»€ä¹ˆé€‰æ‹©Taro?
- âœ… æ”¯æŒReactè¯­æ³•,å­¦ä¹ æˆæœ¬ä½
- âœ… ä¸€å¥—ä»£ç ,å¤šç«¯è¿è¡Œ(å¾®ä¿¡/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨ç­‰)
- âœ… å®Œå–„çš„TypeScriptæ”¯æŒ
- âœ… ä¸°å¯Œçš„ç»„ä»¶åº“(Taro UI / NutUI)
- âœ… æ´»è·ƒçš„ç¤¾åŒºå’Œå®Œå–„çš„æ–‡æ¡£

#### ä¸ºä»€ä¹ˆé€‰æ‹©uni-app?
- âœ… æ”¯æŒVueè¯­æ³•,å¼€å‘ä½“éªŒå¥½
- âœ… ç”Ÿæ€ä¸°å¯Œ,æ’ä»¶å¸‚åœºå®Œå–„
- âœ… ä¸€å¥—ä»£ç ,å¤šç«¯è¿è¡Œ
- âœ… æ€§èƒ½ä¼˜åŒ–åšå¾—å¥½
- âœ… ä¸­æ–‡æ–‡æ¡£å®Œå–„

**æ¨èé€‰æ‹©**: **Taro 3.x + React + TypeScript**

### 1.2 åç«¯æŠ€æœ¯æ ˆ

#### æ–¹æ¡ˆä¸€: Supabase (æ¨è)
- **æ•°æ®åº“**: Supabase PostgreSQL
- **è®¤è¯**: Supabase Auth
- **å­˜å‚¨**: Supabase Storage
- **å®æ—¶**: Supabase Realtime

#### æ–¹æ¡ˆäºŒ: å¾®ä¿¡äº‘å¼€å‘
- **æ•°æ®åº“**: äº‘å¼€å‘æ•°æ®åº“(NoSQL)
- **è®¤è¯**: å¾®ä¿¡ç™»å½•
- **å­˜å‚¨**: äº‘å­˜å‚¨
- **äº‘å‡½æ•°**: Node.js

#### æ–¹æ¡ˆä¸‰: è‡ªå»ºåç«¯
- **æ¡†æ¶**: NestJS / Express
- **æ•°æ®åº“**: PostgreSQL / MongoDB
- **éƒ¨ç½²**: Vercel / Railway

**æ¨èé€‰æ‹©**: **Supabase** (å…è´¹é¢åº¦å……è¶³,åŠŸèƒ½å®Œå–„)

### 1.3 éƒ¨ç½²æ–¹æ¡ˆ

#### å°ç¨‹åºéƒ¨ç½²
- **å¹³å°**: å¾®ä¿¡å°ç¨‹åºå¹³å°
- **å®¡æ ¸**: å¾®ä¿¡å°ç¨‹åºå®¡æ ¸
- **å‘å¸ƒ**: å¾®ä¿¡å°ç¨‹åºå‘å¸ƒ

#### åç«¯éƒ¨ç½²
- **å¹³å°**: Vercel (å¦‚æœä½¿ç”¨Next.js API Routes)
- **æˆ–**: Supabase (æ— éœ€é¢å¤–éƒ¨ç½²)

---

## äºŒã€é¡¹ç›®ç»“æ„

### 2.1 Taroé¡¹ç›®ç»“æ„

```
baby-guide-miniprogram/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/                  # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index/             # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ index.scss
â”‚   â”‚   â”‚   â””â”€â”€ index.config.ts
â”‚   â”‚   â”œâ”€â”€ temperature/       # ä½“æ¸©è®°å½•
â”‚   â”‚   â”œâ”€â”€ medicine/          # ç”¨è¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ profile/           # æˆ‘çš„
â”‚   â”‚   â””â”€â”€ login/             # ç™»å½•
â”‚   â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TemperatureChart/  # ä½“æ¸©å›¾è¡¨
â”‚   â”‚   â”œâ”€â”€ MedicineCard/      # ç”¨è¯å¡ç‰‡
â”‚   â”‚   â””â”€â”€ Common/            # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ services/              # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts            # APIå°è£…
â”‚   â”‚   â”œâ”€â”€ supabase.ts       # Supabaseå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ wechat.ts         # å¾®ä¿¡API
â”‚   â”œâ”€â”€ store/                 # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ modules/
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts        # è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ storage.ts        # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â””â”€â”€ helpers.ts        # è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ constants/             # å¸¸é‡
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ types/                 # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ app.tsx               # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ app.scss              # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ app.config.ts         # å…¨å±€é…ç½®
â”œâ”€â”€ config/                    # Taroé…ç½®
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ dev.ts
â”‚   â””â”€â”€ prod.ts
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½å®ç°

### 3.1 é¡¹ç›®åˆå§‹åŒ–

```bash
# å®‰è£…Taro CLI
npm install -g @tarojs/cli

# åˆ›å»ºé¡¹ç›®
taro init baby-guide-miniprogram

# é€‰æ‹©æ¨¡æ¿
# æ¡†æ¶: React
# è¯­è¨€: TypeScript
# CSSé¢„å¤„ç†å™¨: Sass
```

### 3.2 Supabaseé›†æˆ

```typescript
// src/services/supabase.ts
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.TARO_APP_SUPABASE_URL
const supabaseAnonKey = process.env.TARO_APP_SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseAnonKey)

// å¾®ä¿¡ç™»å½•
export async function loginWithWechat() {
  // è·å–å¾®ä¿¡ç™»å½•code
  const { code } = await Taro.login()
  
  // å‘é€åˆ°Supabase
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: 'wechat',
    options: {
      queryParams: {
        code
      }
    }
  })
  
  return { data, error }
}

// æ‰‹æœºå·ç™»å½•
export async function loginWithPhone(phone: string, code: string) {
  const { data, error } = await supabase.auth.verifyOtp({
    phone,
    token: code,
    type: 'sms'
  })
  
  return { data, error }
}
```

### 3.3 ä½“æ¸©è®°å½•åŠŸèƒ½

```typescript
// src/services/api/temperature.ts
import { supabase } from '../supabase'
import Taro from '@tarojs/taro'

// æ·»åŠ ä½“æ¸©è®°å½•
export async function addTemperatureRecord(data: {
  childId: string
  temperature: number
  measureTime: string
  measurePart: string
  notes?: string
}) {
  try {
    const { data: record, error } = await supabase
      .from('temperature_records')
      .insert({
        child_id: data.childId,
        temperature: data.temperature,
        measure_time: data.measureTime,
        measure_part: data.measurePart,
        notes: data.notes
      })
      .select()
      .single()

    if (error) throw error
    
    Taro.showToast({
      title: 'è®°å½•æˆåŠŸ',
      icon: 'success'
    })
    
    return { record }
  } catch (error) {
    Taro.showToast({
      title: 'è®°å½•å¤±è´¥',
      icon: 'error'
    })
    return { error }
  }
}

// è·å–ä½“æ¸©è®°å½•
export async function getTemperatureRecords(
  childId: string,
  days: number = 7
) {
  const startDate = new Date()
  startDate.setDate(startDate.getDate() - days)
  
  const { data, error } = await supabase
    .from('temperature_records')
    .select('*')
    .eq('child_id', childId)
    .gte('measure_time', startDate.toISOString())
    .order('measure_time', { ascending: false })

  return { data, error }
}
```

### 3.4 æ™ºèƒ½ç”¨è¯ç®¡ç†

```typescript
// src/services/api/medicine.ts
import { supabase } from '../supabase'
import Taro from '@tarojs/taro'

// æ£€æŸ¥ç”¨è¯é—´éš”
export async function checkMedicineInterval(
  childId: string,
  medicineName: string
) {
  // è·å–è¯å“ä¿¡æ¯
  const { data: medicine } = await supabase
    .from('medicines')
    .select('*')
    .eq('name', medicineName)
    .single()

  if (!medicine) {
    return { canTake: false, reason: 'è¯å“ä¿¡æ¯ä¸å­˜åœ¨' }
  }

  // è·å–æœ€è¿‘24å°æ—¶çš„ç”¨è¯è®°å½•
  const twentyFourHoursAgo = new Date(Date.now() - 24 * 60 * 60 * 1000)
  const { data: recentRecords } = await supabase
    .from('medicine_records')
    .select('*')
    .eq('child_id', childId)
    .eq('medicine_name', medicineName)
    .gte('take_time', twentyFourHoursAgo.toISOString())
    .order('take_time', { ascending: false })

  // æ£€æŸ¥24å°æ—¶ç”¨è¯æ¬¡æ•°
  if (recentRecords && recentRecords.length >= medicine.max_daily_count) {
    return {
      canTake: false,
      reason: `24å°æ—¶å†…å·²ç”¨è¯${recentRecords.length}æ¬¡,å·²è¾¾ä¸Šé™`
    }
  }

  // æ£€æŸ¥ç”¨è¯é—´éš”
  if (recentRecords && recentRecords.length > 0) {
    const lastRecord = recentRecords[0]
    const lastTakeTime = new Date(lastRecord.take_time)
    const nextAvailableTime = new Date(
      lastTakeTime.getTime() + medicine.min_interval_hours * 60 * 60 * 1000
    )

    if (new Date() < nextAvailableTime) {
      return {
        canTake: false,
        reason: `è·ç¦»ä¸‹æ¬¡ç”¨è¯è¿˜éœ€ç­‰å¾…`,
        nextAvailableTime
      }
    }
  }

  return { canTake: true }
}

// æ·»åŠ ç”¨è¯è®°å½•
export async function addMedicineRecord(data: {
  childId: string
  medicineName: string
  dosage: string
  takeTime: string
  notes?: string
}) {
  // å…ˆæ£€æŸ¥ç”¨è¯é—´éš”
  const checkResult = await checkMedicineInterval(
    data.childId,
    data.medicineName
  )

  if (!checkResult.canTake) {
    Taro.showModal({
      title: 'ç”¨è¯æé†’',
      content: checkResult.reason,
      showCancel: false
    })
    return { error: checkResult.reason }
  }

  // è®¡ç®—ä¸‹æ¬¡å¯ç”¨æ—¶é—´
  const { data: medicine } = await supabase
    .from('medicines')
    .select('min_interval_hours')
    .eq('name', data.medicineName)
    .single()

  const nextAvailableTime = new Date(
    new Date(data.takeTime).getTime() + medicine.min_interval_hours * 60 * 60 * 1000
  )

  // æ’å…¥è®°å½•
  const { data: record, error } = await supabase
    .from('medicine_records')
    .insert({
      child_id: data.childId,
      medicine_name: data.medicineName,
      dosage: data.dosage,
      take_time: data.takeTime,
      next_available_time: nextAvailableTime.toISOString(),
      notes: data.notes
    })
    .select()
    .single()

  if (error) {
    Taro.showToast({
      title: 'è®°å½•å¤±è´¥',
      icon: 'error'
    })
    return { error }
  }

  Taro.showToast({
    title: 'è®°å½•æˆåŠŸ',
    icon: 'success'
  })

  return { record }
}
```

### 3.5 ä½“æ¸©å›¾è¡¨ç»„ä»¶

```typescript
// src/components/TemperatureChart/index.tsx
import { View } from '@tarojs/components'
import { LineChart } from 'react-native-chart-kit'
import { Dimensions } from 'react-native'
import './index.scss'

interface TemperatureChartProps {
  data: Array<{
    time: string
    temperature: number
  }>
}

export default function TemperatureChart({ data }: TemperatureChartProps) {
  const chartData = {
    labels: data.map(d => d.time),
    datasets: [{
      data: data.map(d => d.temperature),
      color: (opacity = 1) => `rgba(74, 144, 226, ${opacity})`,
      strokeWidth: 2
    }]
  }

  const chartConfig = {
    backgroundGradientFrom: '#FFFFFF',
    backgroundGradientTo: '#FFFFFF',
    color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,
    strokeWidth: 2,
    decimalPlaces: 1,
    propsForDots: {
      r: '4',
      strokeWidth: '2',
      stroke: '#4A90E2'
    }
  }

  return (
    <View className='temperature-chart'>
      <LineChart
        data={chartData}
        width={Dimensions.get('window').width - 32}
        height={200}
        chartConfig={chartConfig}
        bezier
      />
    </View>
  )
}
```

### 3.6 é¡µé¢ç¤ºä¾‹

```typescript
// src/pages/index/index.tsx
import { View, Text } from '@tarojs/components'
import { useEffect, useState } from 'react'
import Taro, { useDidShow } from '@tarojs/taro'
import { getTemperatureRecords } from '../../services/api/temperature'
import { getMedicineRecords } from '../../services/api/medicine'
import TemperatureChart from '../../components/TemperatureChart'
import './index.scss'

export default function Index() {
  const [temperatureRecords, setTemperatureRecords] = useState([])
  const [medicineRecords, setMedicineRecords] = useState([])
  const [currentChild, setCurrentChild] = useState(null)

  useDidShow(() => {
    loadData()
  })

  const loadData = async () => {
    // è·å–å½“å‰å„¿ç«¥
    const child = Taro.getStorageSync('currentChild')
    if (!child) {
      Taro.navigateTo({ url: '/pages/profile/index' })
      return
    }
    
    setCurrentChild(child)
    
    // åŠ è½½æ•°æ®
    const { data: tempData } = await getTemperatureRecords(child.id)
    const { data: medData } = await getMedicineRecords(child.id)
    
    setTemperatureRecords(tempData || [])
    setMedicineRecords(medData || [])
  }

  return (
    <View className='index'>
      {/* å„¿ç«¥æ¡£æ¡ˆå¡ç‰‡ */}
      <View className='child-card'>
        <View className='child-info'>
          <View className='child-avatar'>ğŸ‘¶</View>
          <View className='child-details'>
            <Text className='child-name'>{currentChild?.name}</Text>
            <Text className='child-age'>{currentChild?.age}</Text>
          </View>
        </View>
      </View>

      {/* ä»Šæ—¥æ¦‚è§ˆ */}
      <View className='overview-section'>
        <View className='section-title'>ä»Šæ—¥æ¦‚è§ˆ</View>
        <View className='overview-cards'>
          <View className='overview-card'>
            <Text className='value'>{temperatureRecords[0]?.temperature || '--'}â„ƒ</Text>
            <Text className='label'>ä½“æ¸©</Text>
          </View>
          <View className='overview-card'>
            <Text className='value'>{medicineRecords.length}æ¬¡</Text>
            <Text className='label'>ç”¨è¯</Text>
          </View>
        </View>
      </View>

      {/* ä½“æ¸©å›¾è¡¨ */}
      {temperatureRecords.length > 0 && (
        <View className='chart-section'>
          <View className='section-title'>ä½“æ¸©è¶‹åŠ¿</View>
          <TemperatureChart data={temperatureRecords} />
        </View>
      )}

      {/* å¿«é€Ÿè®°å½•æŒ‰é’® */}
      <View className='quick-actions'>
        <View 
          className='action-btn'
          onClick={() => Taro.navigateTo({ url: '/pages/temperature/add' })}
        >
          <Text className='icon'>ğŸŒ¡ï¸</Text>
          <Text className='text'>ä½“æ¸©</Text>
        </View>
        <View 
          className='action-btn'
          onClick={() => Taro.navigateTo({ url: '/pages/medicine/add' })}
        >
          <Text className='icon'>ğŸ’Š</Text>
          <Text className='text'>ç”¨è¯</Text>
        </View>
      </View>
    </View>
  )
}
```

---

## å››ã€å°ç¨‹åºé…ç½®

### 4.1 app.config.ts

```typescript
export default defineAppConfig({
  pages: [
    'pages/index/index',
    'pages/temperature/index',
    'pages/temperature/add',
    'pages/medicine/index',
    'pages/medicine/add',
    'pages/profile/index',
    'pages/login/index'
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#fff',
    navigationBarTitleText: 'å„¿ç«¥å¥åº·ç®¡ç†',
    navigationBarTextStyle: 'black'
  },
  tabBar: {
    color: '#999',
    selectedColor: '#4A90E2',
    backgroundColor: '#fff',
    list: [
      {
        pagePath: 'pages/index/index',
        text: 'é¦–é¡µ',
        iconPath: 'assets/icons/home.png',
        selectedIconPath: 'assets/icons/home-active.png'
      },
      {
        pagePath: 'pages/temperature/index',
        text: 'ä½“æ¸©',
        iconPath: 'assets/icons/temperature.png',
        selectedIconPath: 'assets/icons/temperature-active.png'
      },
      {
        pagePath: 'pages/medicine/index',
        text: 'ç”¨è¯',
        iconPath: 'assets/icons/medicine.png',
        selectedIconPath: 'assets/icons/medicine-active.png'
      },
      {
        pagePath: 'pages/profile/index',
        text: 'æˆ‘çš„',
        iconPath: 'assets/icons/profile.png',
        selectedIconPath: 'assets/icons/profile-active.png'
      }
    ]
  }
})
```

### 4.2 project.config.json

```json
{
  "miniprogramRoot": "dist/",
  "projectname": "baby-guide",
  "description": "å„¿ç«¥å¥åº·ç®¡ç†å°ç¨‹åº",
  "appid": "your-app-id",
  "setting": {
    "urlCheck": false,
    "es6": false,
    "enhance": false,
    "postcss": false,
    "preloadBackgroundData": false,
    "minified": false,
    "newFeature": false,
    "coverView": true,
    "nodeModules": false,
    "autoAudits": false,
    "showShadowRootInWxmlPanel": true,
    "scopeDataCheck": false,
    "uglifyFileName": false,
    "checkInvalidKey": true,
    "checkSiteMap": true,
    "uploadWithSourceMap": true,
    "compileHotReLoad": false,
    "lazyloadPlaceholderEnable": false,
    "useMultiFrameRuntime": true,
    "useApiHook": true,
    "useApiHostProcess": true,
    "babelSetting": {
      "ignore": [],
      "disablePlugins": [],
      "outputPath": ""
    },
    "useIsolateContext": true,
    "userConfirmedBundleSwitch": false,
    "packNpmManually": false,
    "packNpmRelationList": [],
    "minifyWXSS": true,
    "disableUseStrict": false,
    "showES6CompileOption": false,
    "useCompilerPlugins": [
      "typescript"
    ]
  },
  "compileType": "miniprogram",
  "libVersion": "2.25.0",
  "condition": {}
}
```

---

## äº”ã€å¼€å‘æµç¨‹

### 5.1 æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¾®ä¿¡å°ç¨‹åºå¼€å‘æ¨¡å¼
npm run dev:weapp

# æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
# å¯¼å…¥é¡¹ç›®æ ¹ç›®å½•
# AppIDä½¿ç”¨æµ‹è¯•å·æˆ–æ­£å¼AppID
```

### 5.2 æ„å»ºå‘å¸ƒ

```bash
# æ„å»ºå¾®ä¿¡å°ç¨‹åº
npm run build:weapp

# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ä¸Šä¼ ä»£ç 
# æäº¤å®¡æ ¸
# å‘å¸ƒä¸Šçº¿
```

---

## å…­ã€æˆæœ¬ä¼°ç®—

### 6.1 å¼€å‘æˆæœ¬

| é¡¹ç›® | æˆæœ¬ | è¯´æ˜ |
|------|------|------|
| å°ç¨‹åºæ³¨å†Œ | 0å…ƒ | ä¸ªäººå¼€å‘è€…å…è´¹ |
| Supabase | 0å…ƒ | 500MBæ•°æ®åº“å…è´¹ |
| åŸŸå | å·²æœ‰ | yangqingsong.top |
| SSLè¯ä¹¦ | 0å…ƒ | å°ç¨‹åºè‡ªå¸¦ |
| **æ€»æˆæœ¬** | **0å…ƒ** | å®Œå…¨å…è´¹ |

### 6.2 ç»´æŠ¤æˆæœ¬

- **æœåŠ¡å™¨**: 0å…ƒ (Supabaseå…è´¹é¢åº¦)
- **å­˜å‚¨**: 0å…ƒ (1GBå†…å…è´¹)
- **å¸¦å®½**: 0å…ƒ (å°ç¨‹åºè‡ªå¸¦CDN)
- **æ€»æˆæœ¬**: 0å…ƒ/æœˆ

---

## ä¸ƒã€æŠ€æœ¯éš¾ç‚¹

### 7.1 å¾®ä¿¡ç™»å½•

**é—®é¢˜**: Supabaseçš„å¾®ä¿¡OAuthéœ€è¦ä¼ä¸šè®¤è¯

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨æ‰‹æœºå·ç™»å½•(æ¨è)
2. è‡ªå»ºè®¤è¯æœåŠ¡
3. ä½¿ç”¨å¾®ä¿¡äº‘å¼€å‘

### 7.2 å›¾è¡¨å±•ç¤º

**é—®é¢˜**: å°ç¨‹åºä¸­å›¾è¡¨åº“è¾ƒå°‘

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨ `react-native-chart-kit` (Taroå…¼å®¹)
2. ä½¿ç”¨ `echarts-for-weixin`
3. Canvasè‡ªç»˜

### 7.3 å®æ—¶è®¢é˜…

**é—®é¢˜**: å°ç¨‹åºä¸æ”¯æŒWebSocketé•¿è¿æ¥

**è§£å†³æ–¹æ¡ˆ**:
1. è½®è¯¢æ–¹å¼è·å–æ•°æ®
2. ä½¿ç”¨å¾®ä¿¡äº‘å¼€å‘çš„å®æ—¶æ•°æ®æ¨é€
3. å°ç¨‹åºåå°è¿è¡Œæ—¶æ–­å¼€è¿æ¥

---

## å…«ã€åç»­æ‰©å±•

### 8.1 å¤šç«¯é€‚é…

Taroæ”¯æŒä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œ:

```bash
# å¾®ä¿¡å°ç¨‹åº
npm run dev:weapp

# æ”¯ä»˜å®å°ç¨‹åº
npm run dev:alipay

# å­—èŠ‚è·³åŠ¨å°ç¨‹åº
npm run dev:tt

# H5
npm run dev:h5

# React Native
npm run dev:rn
```

### 8.2 Webç‰ˆæœ¬

å¦‚æœéœ€è¦Webç‰ˆæœ¬,å¯ä»¥:

1. **ä½¿ç”¨Taro H5**
   ```bash
   npm run build:h5
   ```
   éƒ¨ç½²åˆ° `baby.yangqingsong.top`

2. **ä½¿ç”¨Next.jsé‡å†™**
   - æ›´å¥½çš„SEO
   - SSRæ”¯æŒ
   - æ›´ä¸°å¯Œçš„WebåŠŸèƒ½

---

## ä¹ã€æ€»ç»“

### 9.1 æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|--------|
| **Taro + Supabase** | å¤šç«¯æ”¯æŒã€å…è´¹ã€TypeScript | éœ€è¦å­¦ä¹ Taro | â­â­â­â­â­ |
| uni-app + Supabase | Vueç”Ÿæ€ã€æ’ä»¶ä¸°å¯Œ | æ€§èƒ½ç¨å·® | â­â­â­â­ |
| å¾®ä¿¡äº‘å¼€å‘ | åŸç”Ÿé›†æˆã€æ— éœ€åç«¯ | ç»‘å®šå¾®ä¿¡ç”Ÿæ€ | â­â­â­â­ |
| åŸç”Ÿå°ç¨‹åº | æ€§èƒ½æœ€å¥½ | åªèƒ½å¾®ä¿¡ä½¿ç”¨ | â­â­â­ |

### 9.2 æœ€ç»ˆæ¨è

**æŠ€æœ¯æ ˆ**: Taro 3.x + React + TypeScript + Supabase

**æ ¸å¿ƒä¼˜åŠ¿**:
- âœ… å®Œå…¨å…è´¹
- âœ… å¤šç«¯æ”¯æŒ
- âœ… å¼€å‘æ•ˆç‡é«˜
- âœ… ä»£ç å¯ç»´æŠ¤æ€§å¼º
- âœ… å¯æ‰©å±•åˆ°Webç‰ˆæœ¬

**å¼€å‘å‘¨æœŸ**: 4-6å‘¨

**æ€»æˆæœ¬**: 0å…ƒ

---

## åã€å¿«é€Ÿå¼€å§‹

### 10.1 åˆ›å»ºé¡¹ç›®

```bash
# 1. å®‰è£…Taro CLI
npm install -g @tarojs/cli

# 2. åˆ›å»ºé¡¹ç›®
taro init baby-guide-miniprogram

# 3. é€‰æ‹©é…ç½®
# âœ” è¯·è¾“å…¥é¡¹ç›®ä»‹ç»: å„¿ç«¥å¥åº·ç®¡ç†å°ç¨‹åº
# âœ” è¯·é€‰æ‹©æ¡†æ¶: React
# âœ” è¯·é€‰æ‹© CSS é¢„å¤„ç†å™¨: Sass
# âœ” è¯·é€‰æ‹©æ¨¡æ¿: é»˜è®¤æ¨¡æ¿

# 4. è¿›å…¥é¡¹ç›®
cd baby-guide-miniprogram

# 5. å®‰è£…ä¾èµ–
npm install @supabase/supabase-js
npm install react-native-chart-kit
npm install react-native-svg

# 6. å¯åŠ¨å¼€å‘
npm run dev:weapp
```

### 10.2 é…ç½®Supabase

```bash
# åˆ›å»º .env æ–‡ä»¶
TARO_APP_SUPABASE_URL=your_supabase_url
TARO_APP_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 10.3 å¼€å§‹å¼€å‘

1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å¯¼å…¥é¡¹ç›®
2. ä½¿ç”¨æµ‹è¯•AppIDæˆ–æ­£å¼AppID
3. å¼€å§‹å¼€å‘åŠŸèƒ½

---

è¿™ä¸ªæ–¹æ¡ˆæ›´é€‚åˆå¾®ä¿¡å°ç¨‹åºå¼€å‘,å®Œå…¨å…è´¹,ä¸”æ”¯æŒå¤šç«¯æ‰©å±•! ğŸŠ
